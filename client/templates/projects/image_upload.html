<template name="uploadImage">
  <div class="modal fade" id="uploadModal">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
      
        <div class="modal-body">
          <h1>Drag files here</h1>
          <p>or</p>
          {{> uploadForm}}

          {{> uploadedFiles}}

          {{> file}}
        </div>
      </div>
    </div>
  </div>
</template>

<template name="uploadForm">
  {{#with currentUpload}}
    Uploading <b>{{file.name}} </b>: 
    <span id="progress">{{progress.get}}%</span>
  {{else}}
    <input id="fileInput" type="file" />
    <p><small>Upload <code>Images</code> or <code>Videos</code> , with size less or equal to 10MB</small></p>
  {{/with}}
</template>

<template name="uploadedFiles">
  {{#if uploadedFiles.count}}
    <ul>
      {{#each file in uploadedFiles.each}}
        <li>
          <a href="{{file.link}}?download=true" id="imageLink" download="{{file.name}}">{{file.name}}</a>
          
        </li>
      {{/each}}
    </ul>
  {{else}}
    <div>No files uploaded, yet</div>
  {{/if}}
</template>

<template name='file'>
  {{#with imageFile.with}}
    <img src="{{link}}" alt="{{name}}" />
  {{else}}
    Loading Image...
  {{/with}}
  <hr>
  {{#with videoFile.with}}
    <video height="auto" controls preload="auto" autoplay>
      <source src="{{link}}?play=true" type="{{type}}" />
    </video>
  {{else}}
    Loading Video...
  {{/with}}
</template>

